import Head from 'next/head';
import Banner from '@/components/Banner/Banner';
import CardCarousel from '@/components/Carousel/Card/CardCarouselContainer';
import styled from '@emotion/styled';

import { YoutubeCategory, YoutubeRecommended } from '@/types/youtube';
import {
  YOUTUBE_BANNER_DUMMY_DATA,
  YOUTUBE_CATEGORY_DUMMY_DATA
} from '@/constants/dummyData/youtube';
import { BannerInformation } from '@/types/banner';
import { BANNER_DUMMY_DATA } from '@/constants/dummyData/banner';

export default function Home() {
  // const { data: recommendedData, isLoading: isRecommendedLoading } = useQuery(
  //   ['youtube', 'recommended'],
  //   getRecommendedList
  // );
  // const { data: categoryData, isLoading: isCategoryLoading } = useQuery(
  //   ['youtube', 'category'],
  //   getCategoryList
  // );

  // TODO: 테스트용
  const bannerData: BannerInformation[] = BANNER_DUMMY_DATA;
  const recommendedData: YoutubeRecommended[] = YOUTUBE_BANNER_DUMMY_DATA;
  const categoryData: YoutubeCategory[] = YOUTUBE_CATEGORY_DUMMY_DATA;

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      {/* NOTE: 이 부분은 따로 component로 빼도 될거 같기는 한데, 우선 Server Side Props 로 받아오면 
                어떻게 보일지를 몰라서, 나중에 변경 예정
      */}
      <MainContainer>
        <Banner banners={bannerData} isLoading={false} />
        {categoryData?.map((category) => (
          <CardCarousel
            key={`category-${category.title}`}
            contents={category}
          />
        ))}
      </MainContainer>
    </>
  );
}

export const MainContainer = styled.div`
  padding: 2rem 0;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 0;

  ${({ theme }) => theme.screen.desktop} {
    gap: 1.5rem;
  }
`;
